<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

{% seo %}
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>
  <body>
    <div class="page-wrapper">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar">
        <!-- Brand Header with Logo -->
        <div class="sidebar-brand">
          <div class="brand-logo-container">
            <img 
              src="{{ '/assets/images/convopro-logo.svg' | relative_url }}" 
              alt="ConvoPro Logo" 
              class="brand-logo"
              onerror="this.onerror=null; this.src='{{ '/assets/images/convopro-logo.png' | relative_url }}'"
            />
            <span class="brand-name">Docs</span>
          </div>
        </div>
        
        <!-- Search UI -->
        <div class="sidebar-search">
          <input 
            type="text" 
            class="search-input" 
            id="searchInput"
            placeholder="Search docs..." 
            aria-label="Search documentation"
          />
        </div>
        
        <nav class="sidebar-nav">
          {% for item in site.navigation %}
            <div class="nav-item">
              {% if item.subitems %}
                <a href="{{ site.baseurl }}{{ item.url }}" class="nav-link has-children" data-target="submenu-{{ forloop.index }}">
                  <span>{{ item.title }}</span>
                  <i class="fas fa-chevron-down chevron"></i>
                </a>
                <ul class="nav-submenu" id="submenu-{{ forloop.index }}">
                  {% for subitem in item.subitems %}
                    <li>
                      <a href="{{ site.baseurl }}/{{ subitem.url }}" class="nav-sublink">{{ subitem.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% else %}
                <a href="{{ site.baseurl }}{{ item.url }}" class="nav-link">
                  <span>{{ item.title }}</span>
                </a>
              {% endif %}
            </div>
          {% endfor %}
          
          {% if site.github.is_project_page %}
            <div class="nav-item">
              <a href="{{ site.github.repository_url }}" class="nav-link" target="_blank">
                <span>View on GitHub</span>
                <i class="fas fa-external-link-alt"></i>
              </a>
            </div>
          {% endif %}
        </nav>
      </aside>

      <!-- Main Content Area -->
      <div class="content-wrapper">
        <header class="page-header" role="banner">
          <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
          </button>
          <h1 class="page-title">{{ page.title | default: site.title }}</h1>
          <p class="page-description">{{ page.description | default: site.description }}</p>
        </header>

        <main id="content" class="main-content" role="main">
          {{ content }}

          <footer class="site-footer">
            {% if site.github.is_project_page %}
              <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
            {% endif %}
            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
          </footer>
        </main>
      </div>
    </div>

    <script src="{{ '/assets/js/nav.js' | relative_url }}"></script>
  </body>
</html>
