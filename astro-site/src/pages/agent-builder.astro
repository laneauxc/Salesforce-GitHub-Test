---
import NodePalette from '../components/NodePalette';
import Canvas from '../components/Canvas';

const baseUrl = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Builder</title>
  </head>
  <body class="bg-gray-100">
    <div class="flex h-screen">
      <!-- Node Palette -->
      <NodePalette client:load />

      <!-- Canvas Area -->
      <Canvas client:load />
    </div>

    <!-- Back to Chat Prompts link -->
    <a
      href={`${baseUrl}chat-prompts/`}
      class="absolute top-4 left-4 px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors shadow-sm z-20 flex items-center gap-2"
    >
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
      Back to Chat
    </a>
  </body>
</html>
