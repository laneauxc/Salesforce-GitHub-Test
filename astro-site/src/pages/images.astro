---
import SidebarNav from '../components/SidebarNav';
import ImageGenerator from '../components/ImageGenerator';
import ProfileMenu from '../components/ProfileMenu';

const baseUrl = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';

const navSections = [
  {
    header: 'Create',
    items: [
      { icon: 'chat', label: 'Chat', href: `${baseUrl}chat-prompts/` },
      { icon: 'agent-builder', label: 'Agent Builder', href: `${baseUrl}agent-builder/` },
      { icon: 'audio', label: 'Audio', href: `${baseUrl}audio/` },
      { icon: 'images', label: 'Images', selected: true, href: `${baseUrl}images/` },
      { icon: 'videos', label: 'Videos', href: `${baseUrl}videos/` },
      { icon: 'assistants', label: 'Assistants', href: `${baseUrl}assistants/` },
    ],
  },
  {
    header: 'Manage',
    items: [
      { icon: 'usage', label: 'Usage', href: `${baseUrl}usage/` },
      { icon: 'api-keys', label: 'API keys', href: `${baseUrl}api-keys/` },
      { icon: 'apps', label: 'Apps', href: `${baseUrl}apps/` },
      { icon: 'logs', label: 'Logs', href: `${baseUrl}logs/` },
      { icon: 'storage', label: 'Storage', href: `${baseUrl}storage/` },
      { icon: 'batches', label: 'Batches', href: `${baseUrl}batches/` },
    ],
  },
  {
    header: 'Optimize',
    items: [
      { icon: 'evaluation', label: 'Evaluation', href: `${baseUrl}evaluation/` },
      { icon: 'fine-tuning', label: 'Fine-tuning', href: `${baseUrl}fine-tuning/` },
    ],
  },
];
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Images - Create</title>
    <script src={`${baseUrl}dark-mode-init.js`}></script>
    <style>
      /* Smooth transition for dark mode */
      * {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
      }
    </style>
  </head>
  <body class="bg-white dark:bg-gray-900">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <SidebarNav 
        client:load 
        sections={navSections}
      />

      <!-- Main content area -->
      <main class="flex-1 overflow-y-auto relative">
        <!-- Profile Menu in top right -->
        <div class="absolute top-4 right-4 z-10">
          <ProfileMenu client:load baseUrl={baseUrl} />
        </div>
        
        <ImageGenerator client:load baseUrl={baseUrl} />
      </main>
    </div>
  </body>
</html>
